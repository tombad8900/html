<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Code - Ø¹Ø§Ø±Ø¶ Ø§Ù„ÙƒÙˆØ¯</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .btn-primary { @apply bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition duration-200 flex items-center; }
        .btn-secondary { @apply bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition duration-200 flex items-center; }
        .btn-success { @apply bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition duration-200 flex items-center; }
        .btn-danger { @apply bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition duration-200 flex items-center; }
        
        #codeEditor {
            font-family: 'Courier New', monospace;
            line-height: 1.5;
        }
        
        .saved-item {
            transition: all 0.3s ease;
        }
        
        .saved-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
        <header class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">
                <i class="fas fa-code text-blue-500 mr-2"></i>
                Web Code - Ø¹Ø§Ø±Ø¶ Ø§Ù„ÙƒÙˆØ¯
            </h1>
            <p class="text-gray-600">Ø£Ù†Ø´Ø¦ØŒ Ø¹Ø§ÙŠÙ†ØŒ ÙˆØ§Ø­ÙØ¸ Ù…Ø´Ø§Ø±ÙŠØ¹Ùƒ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ©</p>
        </header>

        <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
        <div class="bg-white rounded-lg shadow-md p-4 mb-6">
            <div class="flex flex-wrap gap-3 justify-center">
                <button onclick="runCode()" class="btn-primary">
                    <i class="fas fa-play mr-2"></i>ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
                </button>
                <button onclick="showSaveModal()" class="btn-secondary">
                    <i class="fas fa-save mr-2"></i>Ø­ÙØ¸ Ø§Ù„ÙƒÙˆØ¯
                </button>
                <button onclick="copyCurrentCode()" class="btn-secondary">
                    <i class="fas fa-copy mr-2"></i>Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯
                </button>
            </div>
        </div>

        <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
            <div class="bg-white rounded-lg shadow-md overflow-hidden">
                <div class="bg-gray-800 text-white px-4 py-2 flex justify-between items-center">
                    <span class="font-medium">
                        <i class="fas fa-edit mr-2"></i>Ù…Ø­Ø±Ø± Ø§Ù„ÙƒÙˆØ¯
                    </span>
                    <span class="text-sm text-gray-300">HTML/CSS/JS</span>
                </div>
                <textarea 
                    id="codeEditor" 
                    class="w-full h-96 p-4 font-mono text-sm border-0 focus:ring-0 resize-none"
                    placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ HTML Ù‡Ù†Ø§..."></textarea>
            </div>

            <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø­ÙÙˆØ¸ -->
            <div class="bg-white rounded-lg shadow-md overflow-hidden">
                <div class="bg-gray-800 text-white px-4 py-2">
                    <i class="fas fa-history mr-2"></i>Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø­ÙÙˆØ¸
                </div>
                <div id="savedCodesList" class="p-4 max-h-96 overflow-y-auto">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                </div>
            </div>
        </div>

        <!-- Ù†Ø§ÙØ°Ø© Ø­ÙØ¸ Ø§Ù„ÙƒÙˆØ¯ -->
        <div id="saveModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
            <div class="bg-white rounded-lg p-6 w-96">
                <h3 class="text-lg font-bold mb-4">Ø­ÙØ¸ Ø§Ù„ÙƒÙˆØ¯</h3>
                <input type="text" id="codeName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ù„Ù„ÙƒÙˆØ¯" 
                    class="w-full p-2 border border-gray-300 rounded mb-4">
                <div class="flex gap-2 justify-end">
                    <button onclick="hideSaveModal()" class="btn-secondary">Ø¥Ù„ØºØ§Ø¡</button>
                    <button onclick="saveCode()" class="btn-primary">Ø­ÙØ¸</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        const codeEditor = document.getElementById('codeEditor');
        const savedCodesList = document.getElementById('savedCodesList');
        const saveModal = document.getElementById('saveModal');
        const codeName = document.getElementById('codeName');
        
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        let savedCodes = JSON.parse(localStorage.getItem('webCodeSaved')) || [];
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        function initApp() {
            updateSavedCodesList();
            
            // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø£ÙƒÙˆØ§Ø¯ Ù…Ø­ÙÙˆØ¸Ø©ØŒ Ø£Ø¶Ù Ù†Ù…ÙˆØ°Ø¬ "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø§Ù„Ø¹Ø§Ù„Ù…"
            if (savedCodes.length === 0) {
                const welcomeCode = {
                    id: Date.now(),
                    name: "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø§Ù„Ø¹Ø§Ù„Ù…",
                    code: `<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø§Ù„Ø¹Ø§Ù„Ù…</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
        }
        .container {
            background: rgba(255,255,255,0.1);
            padding: 40px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }
        h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø§Ù„Ø¹Ø§Ù„Ù…! ğŸŒ</h1>
        <p>Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¹Ø§Ø±Ø¶ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</p>
    </div>
</body>
</html>`,
                    date: new Date().toLocaleString('ar-EG')
                };
                savedCodes.push(welcomeCode);
                localStorage.setItem('webCodeSaved', JSON.stringify(savedCodes));
                updateSavedCodesList();
            }
        }
        
        // ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©
        function runCode() {
            const code = codeEditor.value;
            if (!code.trim()) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¯ HTML Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            const previewWindow = window.open('', '_blank');
            previewWindow.document.write(code);
            previewWindow.document.close();
        }
        
        // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø­ÙØ¸
        function showSaveModal() {
            if (!codeEditor.value.trim()) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¯ HTML Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            codeName.value = '';
            saveModal.classList.remove('hidden');
            saveModal.classList.add('flex');
            codeName.focus();
        }
        
        // Ø¥Ø®ÙØ§Ø¡ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø­ÙØ¸
        function hideSaveModal() {
            saveModal.classList.remove('flex');
            saveModal.classList.add('hidden');
        }
        
        // Ø­ÙØ¸ Ø§Ù„ÙƒÙˆØ¯
        function saveCode() {
            const name = codeName.value.trim();
            if (!name) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ù„Ù„ÙƒÙˆØ¯');
                return;
            }
            
            const newCode = {
                id: Date.now(),
                name: name,
                code: codeEditor.value,
                date: new Date().toLocaleString('ar-EG')
            };
            
            savedCodes.push(newCode);
            localStorage.setItem('webCodeSaved', JSON.stringify(savedCodes));
            updateSavedCodesList();
            hideSaveModal();
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
            alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„ÙƒÙˆØ¯ Ø¨Ù†Ø¬Ø§Ø­!');
        }
        
        // Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ
        function copyCurrentCode() {
            if (!codeEditor.value.trim()) {
                alert('Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙƒÙˆØ¯ Ù„Ù„Ù†Ø³Ø®');
                return;
            }
            
            codeEditor.select();
            document.execCommand('copy');
            alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©');
        }
        
        // Ù†Ø³Ø® ÙƒÙˆØ¯ Ù…Ø­ÙÙˆØ¸
        function copySavedCode(id) {
            const codeItem = savedCodes.find(item => item.id === id);
            if (codeItem) {
                navigator.clipboard.writeText(codeItem.code)
                    .then(() => alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©'))
                    .catch(() => {
                        // Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø© Ø¥Ø°Ø§ Ù„Ù… ØªØ¹Ù…Ù„ Clipboard API
                        const tempTextArea = document.createElement('textarea');
                        tempTextArea.value = codeItem.code;
                        document.body.appendChild(tempTextArea);
                        tempTextArea.select();
                        document.execCommand('copy');
                        document.body.removeChild(tempTextArea);
                        alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©');
                    });
            }
        }
        
        // Ø­Ø°Ù ÙƒÙˆØ¯ Ù…Ø­ÙÙˆØ¸
        function deleteSavedCode(id) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ØŸ')) {
                savedCodes = savedCodes.filter(item => item.id !== id);
                localStorage.setItem('webCodeSaved', JSON.stringify(savedCodes));
                updateSavedCodesList();
                alert('ØªÙ… Ø­Ø°Ù Ø§Ù„ÙƒÙˆØ¯ Ø¨Ù†Ø¬Ø§Ø­');
            }
        }
        
        // Ø¹Ø±Ø¶ ÙƒÙˆØ¯ Ù…Ø­ÙÙˆØ¸
        function viewSavedCode(id) {
            const codeItem = savedCodes.find(item => item.id === id);
            if (codeItem) {
                const previewWindow = window.open('', '_blank');
                previewWindow.document.write(codeItem.code);
                previewWindow.document.close();
            }
        }
        
        // ØªØ­Ù…ÙŠÙ„ ÙƒÙˆØ¯ Ù…Ø­ÙÙˆØ¸ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø­Ø±Ø±
        function loadSavedCode(id) {
            const codeItem = savedCodes.find(item => item.id === id);
            if (codeItem) {
                codeEditor.value = codeItem.code;
            }
        }
        
        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø­ÙÙˆØ¸
        function updateSavedCodesList() {
            if (savedCodes.length === 0) {
                savedCodesList.innerHTML = '<p class="text-gray-500 text-center py-8">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙŠ Ø£ÙƒÙˆØ§Ø¯ Ù…Ø­ÙÙˆØ¸Ø© Ø¨Ø¹Ø¯</p>';
                return;
            }
            
            savedCodesList.innerHTML = savedCodes.map(item => `
                <div class="saved-item bg-white border border-gray-200 rounded-lg p-4 mb-3 shadow-sm">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="font-bold text-lg text-gray-800">${item.name}</h3>
                        <span class="text-sm text-gray-500">${item.date}</span>
                    </div>
                    <div class="flex flex-wrap gap-2 mt-3">
                        <button onclick="loadSavedCode(${item.id})" class="btn-secondary text-sm">
                            <i class="fas fa-edit mr-1"></i>ØªØ­Ù…ÙŠÙ„
                        </button>
                        <button onclick="viewSavedCode(${item.id})" class="btn-success text-sm">
                            <i class="fas fa-eye mr-1"></i>Ø¹Ø±Ø¶
                        </button>
                        <button onclick="copySavedCode(${item.id})" class="btn-secondary text-sm">
                            <i class="fas fa-copy mr-1"></i>Ù†Ø³Ø®
                        </button>
                        <button onclick="deleteSavedCode(${item.id})" class="btn-danger text-sm">
                            <i class="fas fa-trash mr-1"></i>Ø­Ø°Ù
                        </button>
                    </div>
                </div>
            `).join('');
        }
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>